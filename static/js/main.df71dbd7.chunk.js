(this["webpackJsonprick-and-morty"]=this["webpackJsonprick-and-morty"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(82),o=n.n(i),s=n(121),l=n(92),d=n(122),u=n(123),j=n(140),b=n(119),h=n(120),g=n.p+"static/media/logo.3c6f5bc4.png",x=n.p+"static/media/rick-n-morty.e66eb8ab.png",f=n.p+"static/media/toxic-rick-n-morty.ac325463.png",p=function(){var e=Object(l.b)(),t=e.toggleColorMode,n=e.colorMode,r=Object(l.c)("dark","light"),c=Object(l.c)("white","gray.700"),i=Object(l.c)("gray.300","gray.900"),o=Object(l.c)(b.a,h.a);return Object(a.jsx)(s.a,{bg:c,borderBottom:"1px",borderColor:i,as:"header","data-testid":"Header",children:Object(a.jsx)(s.a,{mx:"auto",maxW:"6xl",py:4,px:[4,8],children:Object(a.jsxs)(d.a,{justifyContent:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{"data-testid":"Header__logo","aria-label":"Rick and Morty logo button",variant:"ghost",_hover:{bg:"transparent"},_active:{bg:"transparent"},_focus:{outline:"none"},icon:Object(a.jsx)(j.a,{src:g,alt:"Rick and Morty logo",maxW:["150px","200px"]}),onClick:function(){return window.location.reload()}}),Object(a.jsx)(u.a,{"data-testid":"Header__switchMode",variant:"ghost",color:"current",size:"xlg",onClick:t,"aria-label":"Switch to ".concat(r," mode"),_focus:{outline:"none"},icon:Object(a.jsxs)(d.a,{alignItems:"center",px:4,children:[Object(a.jsx)(o,{}),Object(a.jsxs)(s.a,{maxW:["80px","100px"],ml:4,children:[Object(a.jsx)(j.a,{src:x,alt:"R and M",display:"light"===n?"block":"none"}),Object(a.jsx)(j.a,{src:f,alt:"Toxic R and M",display:"dark"===n?"block":"none"})]})]})})]})})})},O=function(e){var t=e.children;return Object(a.jsxs)(s.a,{children:[Object(a.jsx)(p,{}),Object(a.jsx)(s.a,{mx:"auto",maxW:"6xl",py:8,px:[4,8],children:t})]})},m=n(5),v=n(124),y=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=function(){c(window.pageYOffset>400)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[c]),Object(a.jsx)(u.a,{colorScheme:"teal","aria-label":"Volver al inicio",icon:Object(a.jsx)(v.a,{}),position:"fixed",boxShadow:"lg",right:[4,4,8],bottom:[4,4,8],size:"lg",onClick:function(){var e;window.scrollTo({top:0,behavior:"smooth"}),null===(e=i.current)||void 0===e||e.blur()},opacity:+n,ref:i})},S=function(e){var t=e.children,n=e.bg,r=e.icon;return Object(a.jsxs)(d.a,{"data-testid":"Badge",rounded:"full",px:3,py:1,color:"white",boxShadow:"lg",fontSize:"sm",textTransform:"uppercase",bg:n,alignItems:"center",children:[Object(a.jsx)(s.a,{mr:1,whiteSpace:"nowrap",children:t})," ",r]})},w=n(125),k=n(126),C=n.p+"static/media/placeholder-img.8a6b9601.png",M=function(e){var t=e.title,n=e.description,r=e.image,c=e.badge,i=Object(l.c)("lg","dark-lg"),o=Object(l.c)("cyan.600","cyan.200");return Object(a.jsxs)(s.a,{position:"relative","data-testid":"CardImage",children:[Object(a.jsxs)(s.a,{position:"relative",children:[Object(a.jsx)(s.a,{position:"absolute",left:"50%",transform:"translate(-50%, -50%)",zIndex:"docked",children:c}),Object(a.jsx)(w.a,{ratio:1,children:Object(a.jsx)(j.a,{w:"full",objectFit:"cover",src:r,alt:t,rounded:"lg",overflow:"hidden",boxShadow:i,fallbackSrc:C,bg:"gray.400"})})]}),Object(a.jsxs)(s.a,{mt:6,position:"relative",textAlign:"center",children:[Object(a.jsx)(k.a,{fontSize:"lg",fontWeight:"medium",children:t}),Object(a.jsx)(k.a,{fontSize:"sm",color:o,children:n})]})]})},I=n(136),z=function(){return Object(a.jsx)(a.Fragment,{children:Array.from(Array(4).keys()).map((function(e){return Object(a.jsx)(w.a,{ratio:1,"data-testid":"LoaderCard",children:Object(a.jsx)(I.a,{height:"full"})},e)}))})},L=n(86),E=n(36),F=n.n(E),_=n(58),R=n(137),A=n(59),P=new A.GraphQLClient("https://rickandmortyapi.com/graphql"),T=n(87);function W(){var e=Object(T.a)(["\n  query getCharacters($page: Int!, $name: String!, $status: String!) {\n    characters(page: $page, filter: { name: $name, status: $status }) {\n      info {\n        next\n      }\n      results {\n        id\n        name\n        status\n        image\n        species\n      }\n    }\n  }\n"]);return W=function(){return e},e}var B=Object(A.gql)(W());function N(){return(N=Object(_.a)(F.a.mark((function e(t){var n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.request(B,t);case 2:return n=e.sent,a=n.characters,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){return N.apply(this,arguments)};var q=function(e){var t=e.name,n=e.status;return Object(R.a)(["characters",{name:t,status:n}],function(){var e=Object(_.a)(F.a.mark((function e(t){var n,a,r,c,i,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=void 0===n?1:n,r=Object(m.a)(t.queryKey,2),c=r[1],i=c.name,o=c.status,e.abrupt("return",D({page:a,name:i,status:o}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{getNextPageParam:function(e){return e.info.next}})},H=n.p+"static/media/placeholder-img-dark.51d17462.png",$=function(e){var t=e.children,n=e.actions,r=Object(l.b)().colorMode,c=Object(l.c)("teal.600","teal.200");return Object(a.jsxs)(d.a,{my:16,flexDirection:"column",alignItems:"center",children:[Object(a.jsx)(k.a,{fontSize:"lg",mb:4,textAlign:"center",fontWeight:"bold",color:c,children:t}),n,Object(a.jsx)(j.a,{src:H,fallbackSrc:H,alt:"R and M light",display:"light"===r?"block":"none",opacity:.2}),Object(a.jsx)(j.a,{src:C,fallbackSrc:C,alt:"R and M dark",display:"dark"===r?"block":"none"})]})},G=n(127),U=function(e){var t=e.children,n=e.gridRef;return Object(a.jsx)(s.a,{my:16,"data-testid":"CharactersGrid",children:Object(a.jsx)(G.a,{templateColumns:["repeat(1, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)"],columnGap:12,rowGap:20,ref:n,children:t})})},J=n(128),Q=n(129),K=n(130),V=n(46),Y="SET_SEARCH",X="SET_SEARCH_LOADING",Z={name:"",status:"",loading:!1},ee=function(e,t){switch(t.type){case Y:return Object(V.a)(Object(V.a)({},e),{},{name:t.payload.name,status:t.payload.status});case X:return Object(V.a)(Object(V.a)({},e),{},{loading:t.payload});default:return e}},te=Object(r.createContext)({state:Z,dispatch:function(){return null}}),ne=function(e){var t=e.children,n=Object(r.useReducer)(ee,Z),c=Object(m.a)(n,2),i=c[0],o=c[1];return Object(a.jsx)(te.Provider,{value:{state:i,dispatch:o},children:t})};var ae=function(){var e=Object(r.useContext)(te),t=Object(r.useMemo)((function(){return{setSearch:function(t,n){e.dispatch({type:Y,payload:{name:t,status:n}})},setSearchLoading:function(t){e.dispatch({type:X,payload:t})}}}),[]);return{setSearch:t.setSearch,setSearchLoading:t.setSearchLoading,finder:e.state}},re=function(){var e=ae(),t=e.finder,n=t.name,i=t.status,o=e.setSearchLoading,s=q({name:n,status:i}),l=s.data,d=s.fetchNextPage,u=s.hasNextPage,j=s.isFetchingNextPage,b=s.isLoading,h=s.isError,g=Object(L.a)({loading:j,hasNextPage:!!u,onLoadMore:d}),x={unknown:{color:"gray.400",statusText:"No identificado",icon:Object(a.jsx)(J.a,{size:18})},Alive:{color:"green.400",statusText:"Con vida",icon:Object(a.jsx)(Q.a,{size:18})},Dead:{color:"red.400",statusText:"Sin vida",icon:Object(a.jsx)(K.a,{size:18})}};return Object(r.useEffect)((function(){return o(b)}),[b,o]),b?Object(a.jsx)(U,{children:Object(a.jsx)(z,{})}):h?Object(a.jsx)($,{children:"Personaje no encontrado en esta realidad"}):Object(a.jsxs)(U,{gridRef:g,children:[null===l||void 0===l?void 0:l.pages.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:e.results.map((function(e){var t=e.name,n=e.id,r=e.species,c=e.image,i=e.status,o=x[i],s=o.color,l=o.icon,d=o.statusText;return Object(a.jsx)(M,{title:t,description:r,image:c,badge:Object(a.jsx)(S,{bg:s,icon:l,children:d})},n)}))},t)})),j&&Object(a.jsx)(z,{})]})},ce=n(131),ie=n(132),oe=n(133),se=n(89),le=function(){var e=ae(),t=e.finder,n=e.setSearch,c=Object(r.useState)(""),i=Object(m.a)(c,2),o=i[0],s=i[1],u=Object(r.useState)(""),j=Object(m.a)(u,2),b=j[0],h=j[1],g=Object(l.c)("white","gray.700");return Object(a.jsxs)(d.a,{flexDirection:"column",alignItems:"center",py:12,"data-testid":"SearchForm",children:[Object(a.jsx)(ce.a,{as:"h2",size:"xl",mb:8,textAlign:"center",children:"\xbfQu\xe9 personaje estas buscando?"}),Object(a.jsxs)(d.a,{flexDirection:["column","row"],w:["full","auto"],as:"form",onSubmit:function(e){n(o,b),e.preventDefault()},children:[Object(a.jsx)(ie.a,{placeholder:"Escribe un nombre",bg:g,focusBorderColor:"teal.400",size:"lg",mr:[0,4],mb:[4,0],onChange:function(e){return s(e.target.value)}}),Object(a.jsxs)(oe.a,{"data-testid":"SearchForm__select",placeholder:"Selecciona un estado",bg:g,focusBorderColor:"teal.400",size:"lg",mr:[0,4],mb:[4,0],onChange:function(e){return h(e.target.value)},children:[Object(a.jsx)("option",{value:"alive","data-testid":"alive",children:"Con vida"}),Object(a.jsx)("option",{value:"dead","data-testid":"dead",children:"Sin vida"}),Object(a.jsx)("option",{value:"unknown","data-testid":"unknown",children:"No identificado"})]}),Object(a.jsx)(se.a,{ml:"auto",colorScheme:"teal",size:"lg",minW:24,isLoading:t.loading,type:"submit",children:"Buscar"})]})]})},de=function(){return Object(a.jsxs)(s.a,{"data-testid":"Finder",children:[Object(a.jsx)(le,{}),Object(a.jsx)(re,{}),Object(a.jsx)(y,{})]})},ue=function(){return Object(a.jsx)(O,{children:Object(a.jsx)(de,{})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},be=n(135),he=n(61),ge=n(134),xe={styles:{global:function(e){return{body:{bg:Object(ge.a)("gray.100","gray.800")(e)}}}},config:{initialColorMode:"dark",useSystemColorMode:!1},fonts:{body:'Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'},fontWeights:{light:300,normal:400,medium:500,bold:700,black:900}},fe=Object(be.a)(xe,he.b),pe=n(139),Oe=function(e){var t=e.children;return Object(a.jsx)(pe.a,{theme:fe,children:t})},me=n(88),ve=new(n(138).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),ye=function(e){var t=e.children;return Object(a.jsx)(me.a,{client:ve,children:t})},Se=function(e){var t=e.children;return Object(a.jsx)(ye,{children:Object(a.jsx)(Oe,{children:Object(a.jsx)(ne,{children:t})})})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Se,{children:Object(a.jsx)(ue,{})})}),document.getElementById("root")),je()}},[[111,1,2]]]);
//# sourceMappingURL=main.df71dbd7.chunk.js.map